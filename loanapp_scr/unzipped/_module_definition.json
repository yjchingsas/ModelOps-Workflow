{"scope":"PUBLIC","source":"\n\n  DS2_OPTIONS LOGICALEXPR = STANDARD;\n  DS2_OPTIONS SCOND = WARNING;\n  DS2_OPTIONS MISSING_NOTE;\n\n                                                                               \n                     \n  package loanapp_scr  / inline;\n    dcl package logger logr_perf('App.tk.SID.Perf');\n    dcl double timer_start;\n    dcl double elapsed_time;\n    dcl double total_timer_start;\n    dcl double total_elapsed_time;\n\n    dcl package \"Decision_6_Pythonu32GradientBoostingu32u40Championu32Challengeru32Pipelineu41\" \"Decision_6_Pythonu32GradientBoostingu32u40Championu32Challengeru32Pipelineu41_hdl\"();\n\n     method init();\n\n     end;\n\n    method execute_internal(\n       double \"CredLineAge\"\n      ,double \"CredLines\"\n      ,double \"DebtIncRatio\"\n      ,double \"Delinquencies\"\n      ,double \"DerogatoryMarks\"\n      ,double \"HomeValue\"\n      ,double \"Income\"\n      ,double \"Inquiries\"\n      ,varchar(7) \"JobType\"\n      ,double \"LoanRequest\"\n      ,double \"LoanToValue\"\n      ,double \"YearsOnJob\"\n      ,in_out varchar \"I_Default\"\n      ,in_out double \"P_Default0\"\n      ,in_out double \"P_Default1\"\n\n      ,in_out integer \"_filter_\"\n\n    );\n        dcl integer dg_filter_;\n\n       dcl integer _masRC;\n\n        total_timer_start = datetime();\n\n        timer_start = datetime();\n        \"Decision_6_Pythonu32GradientBoostingu32u40Championu32Challengeru32Pipelineu41_hdl\".score(\"CredLineAge\", \"CredLines\", \"DebtIncRatio\", \"Delinquencies\", \"DerogatoryMarks\", \"HomeValue\", \"Income\", \"Inquiries\", \"JobType\", \"LoanRequest\", \"LoanToValue\", \"YearsOnJob\", \"resultCode\", \"P_Default0\", \"P_Default1\", \"I_Default\");\n        elapsed_time = datetime() - timer_start;\n        logr_perf.log( 'd', 'Package Name: loanapp_scr, Node Name: Python GradientBoosting (Champion Challenger Pipeline), Node ID: c8e3e240-b837-4cf4-a7aa-5c3658f2125a, NODE DURATION: ' .. elapsed_time);\n\n              ;\n\n        \"end\":                                            \n\n        total_elapsed_time = datetime() - total_timer_start;\n        logr_perf.log( 'd', 'Package Name: loanapp_scr, TOTAL DURATION: ' .. total_elapsed_time);\n\n     end;\n\n    method execute(\n       double \"CredLineAge_\"\n      ,double \"CredLines_\"\n      ,double \"DebtIncRatio_\"\n      ,double \"Delinquencies_\"\n      ,double \"DerogatoryMarks_\"\n      ,double \"HomeValue_\"\n      ,double \"Income_\"\n      ,double \"Inquiries_\"\n      ,varchar(7) \"JobType_\"\n      ,double \"LoanRequest_\"\n      ,double \"LoanToValue_\"\n      ,double \"YearsOnJob_\"\n      ,in_out varchar \"I_Default\"\n      ,in_out double \"P_Default0\"\n      ,in_out double \"P_Default1\"\n);\n\n      dcl integer _filter_;\n\n          execute_internal(\n          \"CredLineAge_\"\n         ,\"CredLines_\"\n         ,\"DebtIncRatio_\"\n         ,\"Delinquencies_\"\n         ,\"DerogatoryMarks_\"\n         ,\"HomeValue_\"\n         ,\"Income_\"\n         ,\"Inquiries_\"\n         ,\"JobType_\"\n         ,\"LoanRequest_\"\n         ,\"LoanToValue_\"\n         ,\"YearsOnJob_\"\n         ,\"I_Default\"\n         ,\"P_Default0\"\n         ,\"P_Default1\"\n      ,\"_filter_\"\n      );\n\n    end;\n\n                   \n   endpackage;","properties":[{"name":"sourceURI","value":"/decisions/flows/248097cf-d3c6-4dc7-92c8-5dfdc3922644/revisions/21029aca-5b55-40e2-9f8a-aa7ea8499fc7"}],"submodules":[{"name":"Decision_6_Pythonu32GradientBoostingu32u40Championu32Challengeru32Pipelineu41","description":"","source":"\n\nds2_options scond=none;\n                                                                                                                         \n                                                                                                                                                                                                                                                                                                                           \npackage \"Decision_6_Pythonu32GradientBoostingu32u40Championu32Challengeru32Pipelineu41\" / overwrite=yes;\ndcl package pymas pm;\ndcl package logger logr('App.MM.Python.DS2');\ndcl varchar(32767) character set utf8 pypgm;\ndcl int resultCode revision;\n\nmethod score(double \"CredLineAge\",\ndouble \"CredLines\",\ndouble \"DebtIncRatio\",\ndouble \"Delinquencies\",\ndouble \"DerogatoryMarks\",\ndouble \"HomeValue\",\ndouble \"Income\",\ndouble \"Inquiries\",\nvarchar(100) \"JobType\",\ndouble \"LoanRequest\",\ndouble \"LoanToValue\",\ndouble \"YearsOnJob\",\nin_out double resultCode,\nin_out double \"P_Default0\",\nin_out double \"P_Default1\",\nin_out varchar(100) \"I_Default\");\n\n   resultCode = revision = 0;\n   if null(pm) then do;\n      pm = _new_ pymas();\n      resultCode = pm.useModule('model_exec_3d03e8ff-2d0f-4081-923f-baaaa6b306d5', 1);\n      if resultCode then do;\n         resultCode = pm.appendSrcLine('import sys');\n         resultCode = pm.appendSrcLine('sys.path.append(\"/modules/18a81ad7-db11-4470-8a0b-fc3d807efce2/\")');\n         resultCode = pm.appendSrcLine('import settings_18a81ad7_db11_4470_8a0b_fc3d807efce2');\n         resultCode = pm.appendSrcLine('settings_18a81ad7_db11_4470_8a0b_fc3d807efce2.pickle_path = \"/modules/18a81ad7-db11-4470-8a0b-fc3d807efce2/\"');\n         resultCode = pm.appendSrcLine('import _dj5n7wg1ne74bjo4ln9lur5fz_274d312d_6008_4d0e_ba00_5df52872b0ca');\n         resultCode = pm.appendSrcLine('def score_method(Delinquencies, DerogatoryMarks, Inquiries, JobType, CredLineAge, CredLines, DebtIncRatio, LoanRequest, HomeValue, Income, LoanToValue, YearsOnJob):');\n         resultCode = pm.appendSrcLine('    \"Output: P_Default0, P_Default1, I_Default\"');\n         resultCode = pm.appendSrcLine('    return _dj5n7wg1ne74bjo4ln9lur5fz_274d312d_6008_4d0e_ba00_5df52872b0ca.score_method(Delinquencies, DerogatoryMarks, Inquiries, JobType, CredLineAge, CredLines, DebtIncRatio, LoanRequest, HomeValue, Income, LoanToValue, YearsOnJob)');\n\n         revision = pm.publish(pm.getSource(), 'model_exec_3d03e8ff-2d0f-4081-923f-baaaa6b306d5');\n         if ( revision \u003c 1 ) then do;\n            logr.log( 'e', 'py.publish() failed.');\n            resultCode = -1;\n            return;\n         end;\n      end;\n   end;\n\n   resultCode = pm.useMethod('score_method');\n   if resultCode then do;\n      logr.log('E', 'useMethod() failed. resultCode=$s', resultCode);\n      return;\n   end;\n   resultCode = pm.setDouble('CredLineAge', CredLineAge);\n   if resultCode then\n      logr.log('E', 'setDouble for CredLineAge failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('CredLines', CredLines);\n   if resultCode then\n      logr.log('E', 'setDouble for CredLines failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('DebtIncRatio', DebtIncRatio);\n   if resultCode then\n      logr.log('E', 'setDouble for DebtIncRatio failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Delinquencies', Delinquencies);\n   if resultCode then\n      logr.log('E', 'setDouble for Delinquencies failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('DerogatoryMarks', DerogatoryMarks);\n   if resultCode then\n      logr.log('E', 'setDouble for DerogatoryMarks failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('HomeValue', HomeValue);\n   if resultCode then\n      logr.log('E', 'setDouble for HomeValue failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Income', Income);\n   if resultCode then\n      logr.log('E', 'setDouble for Income failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Inquiries', Inquiries);\n   if resultCode then\n      logr.log('E', 'setDouble for Inquiries failed.  resultCode=$s', resultCode);\n   resultCode = pm.setString('JobType', JobType);\n   if resultCode then\n      logr.log('E', 'setString for JobType failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('LoanRequest', LoanRequest);\n   if resultCode then\n      logr.log('E', 'setDouble for LoanRequest failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('LoanToValue', LoanToValue);\n   if resultCode then\n      logr.log('E', 'setDouble for LoanToValue failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('YearsOnJob', YearsOnJob);\n   if resultCode then\n      logr.log('E', 'setDouble for YearsOnJob failed.  resultCode=$s', resultCode);\n   resultCode = pm.execute();\n   if (resultCode) then\n      logr.log('E', 'Error: pm.execute failed.  resultCode=$s', resultCode);\n   else do;\n      \"P_Default0\" = pm.getDouble('P_Default0');\n      \"P_Default1\" = pm.getDouble('P_Default1');\n      \"I_Default\" = pm.getString('I_Default');\n   end;\nend;\n\n                                                                                                  \n endpackage;","attributes":{"keyValue":""},"language":"DS2"}]}